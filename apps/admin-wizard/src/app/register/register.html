<div class="register-container">
  <h2 class="title">Registro</h2>

  <mat-stepper linear #stepper>
    <mat-step [stepControl]="personalInfoForm">
      <form [formGroup]="personalInfoForm">
        <ng-template matStepLabel>Informações Pessoais</ng-template>

        <lib-input
          label="Full Name"
          placeholder="Enter your full name"
          formControlName="fullName"
        ></lib-input>

        <mat-form-field appearance="outline">
          <mat-label>Date of Birth</mat-label>
          <input
            matInput
            [matDatepicker]="dobPicker"
            formControlName="dateOfBirth"
            required
          />
          <mat-datepicker-toggle
            matIconSuffix
            [for]="dobPicker"
          ></mat-datepicker-toggle>
          <mat-datepicker #dobPicker></mat-datepicker>
          @if (personalInfoForm.get('dateOfBirth')?.hasError('required')) {
          <mat-error>Date of birth is required</mat-error>
          }
        </mat-form-field>

        <lib-input
          label="CPF"
          placeholder="000.000.000-00"
          formControlName="cpf"
        ></lib-input>

        <lib-input
          inputType="tel"
          label="Phone"
          placeholder="(00) 00000-0000"
          formControlName="phone"
        ></lib-input>

        <div>
          <button mat-button matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>

    <mat-step [stepControl]="residentialInfoForm">
      <form [formGroup]="residentialInfoForm">
        <ng-template matStepLabel>Informações Residenciais</ng-template>

        <lib-input
          label="Address"
          placeholder="Enter your address"
          formControlName="address"
        ></lib-input>

        <lib-input
          label="Neighborhood"
          placeholder="Enter your neighborhood"
          formControlName="neighborhood"
        ></lib-input>

        <lib-input
          label="ZIP Code"
          placeholder="00000-000"
          formControlName="zipCode"
        ></lib-input>

        <lib-input
          label="City"
          placeholder="Enter your city"
          formControlName="city"
        ></lib-input>

        <lib-input
          label="State"
          placeholder="Enter your state"
          formControlName="state"
        ></lib-input>

        <div>
          <button mat-button matStepperPrevious>Back</button>
          <button mat-button matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>

    <mat-step [stepControl]="professionalInfoForm">
      <form [formGroup]="professionalInfoForm">
        <ng-template matStepLabel>Informações Profissionais</ng-template>

        <lib-input
          label="Profession"
          placeholder="Enter your profession"
          formControlName="profession"
        ></lib-input>

        <lib-input
          label="Company"
          placeholder="Enter your company"
          formControlName="company"
        ></lib-input>

        <lib-input
          inputType="number"
          label="Salary"
          placeholder="Enter your salary"
          formControlName="salary"
        ></lib-input>

        <div>
          <button mat-button matStepperPrevious>Back</button>
          <button mat-button (click)="onSubmit()">Submit</button>
        </div>
      </form>
    </mat-step>
  </mat-stepper>
</div>

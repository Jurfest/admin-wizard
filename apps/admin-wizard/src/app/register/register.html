<div class="register-container">
  <h2 class="title">Registro</h2>

  <mat-stepper [linear]="false" #stepper>
    <mat-step [stepControl]="personalInfoForm">
      <form [formGroup]="personalInfoForm" class="mt-4">
        <ng-template matStepLabel>Informações Pessoais</ng-template>

        <lib-input
          label="Nome Completo"
          placeholder="Digite seu nome completo"
          formControlName="fullName"
        ></lib-input>

        <mat-form-field appearance="outline">
          <mat-label>Data de Nascimento</mat-label>
          <input
            matInput
            [matDatepicker]="dobPicker"
            formControlName="dateOfBirth"
            required
          />
          <mat-datepicker-toggle
            matIconSuffix
            [for]="dobPicker"
          ></mat-datepicker-toggle>
          <mat-datepicker #dobPicker></mat-datepicker>
          @if (personalInfoForm.get('dateOfBirth')?.hasError('required')) {
          <mat-error>Data de nascimento é obrigatória</mat-error>
          }
        </mat-form-field>

        <lib-input
          label="CPF"
          placeholder="000.000.000-00"
          formControlName="cpf"
        ></lib-input>

        <lib-input
          inputType="tel"
          label="Telefone"
          placeholder="(00) 00000-0000"
          formControlName="phone"
        ></lib-input>

        <div>
          <lib-button (buttonClickEvent)="nextStep()">Próximo</lib-button>
        </div>
      </form>
    </mat-step>

    <mat-step [stepControl]="residentialInfoForm">
      <form [formGroup]="residentialInfoForm" class="mt-4">
        <ng-template matStepLabel>Informações Residenciais</ng-template>

        <lib-input
          label="Endereço"
          placeholder="Digite seu endereço"
          formControlName="address"
        ></lib-input>

        <lib-input
          label="Bairro"
          placeholder="Digite seu bairro"
          formControlName="neighborhood"
        ></lib-input>

        <lib-input
          label="CEP"
          placeholder="00000-000"
          formControlName="zipCode"
        ></lib-input>

        <lib-input
          label="Cidade"
          placeholder="Digite sua cidade"
          formControlName="city"
        ></lib-input>

        <lib-input
          label="Estado"
          placeholder="Digite seu estado"
          formControlName="state"
        ></lib-input>

        <div>
          <lib-button (buttonClickEvent)="previousStep()">Voltar</lib-button>
          <lib-button (buttonClickEvent)="nextStep()">Próximo</lib-button>
        </div>
      </form>
    </mat-step>

    <mat-step [stepControl]="professionalInfoForm">
      <form [formGroup]="professionalInfoForm" class="mt-4">
        <ng-template matStepLabel>Informações Profissionais</ng-template>

        <lib-input
          label="Profissão"
          placeholder="Digite sua profissão"
          formControlName="profession"
        ></lib-input>

        <lib-input
          label="Empresa"
          placeholder="Digite sua empresa"
          formControlName="company"
        ></lib-input>

        <lib-input
          inputType="number"
          label="Salário"
          placeholder="Digite seu salário"
          formControlName="salary"
        ></lib-input>

        <div>
          <lib-button (buttonClickEvent)="previousStep()">Voltar</lib-button>
          <lib-button (buttonClickEvent)="onSubmit()">Enviar</lib-button>
        </div>
      </form>
    </mat-step>
  </mat-stepper>
</div>
